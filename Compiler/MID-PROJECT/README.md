
# 중간과제

## (1) 교재의 5장에서 설명하는 신택스 분석기를 제작합니다.
## (2) 과제의 편의를 위하여 다음과 같은 프로그램을 제공하니 잘 활용하기 바랍니다

- initialize() 함수 프로그램
- type.h: 자료구조를 위한 헤더화일
- print.c: 신택스트리 출력을 위한 print_AST() 함수 프로그램 파일
- main.c

## (3) initialize() 함수를 설치하는데 이 함수는 심볼테이블에 다음과 같은 이름과 종류를 미리 준비합니다.

- "int" ID_TYPE
- "float" ID_TYPE
- "char" ID_TYPE
- "void" ID_TYPE
- "printf" ID_FUNC
- "scanf" ID_FUNC

## (4) lex 프로그램을 확장하여 다음과 같은 기능을 추가한다 (교재의 부록 참고)

- 토큰 종류가 IDENTIFIER 일 때 yylval 에 그 스트링 포인터.
- 토큰 종류가 INTEGER_CONSTANT 일 때 yylval에 정수값.
- 토큰 종류가 FLOAT_CONSTANT 일 때 yylval에 그 스트링 포인터.
- 토큰 종류가 CHARACTER_CONSTANT 일 때 yylval에 그 문자값.
- 토큰 종류가 STRING_LITERAL일 때 yylval에 그 스트링 포인터를 갖도록 한다.
  
checkIdentifier() 함수를 확장하여 심볼테이블에서 TYPE_IDENTIFIER를 찾아보도록 한다.

## (5) yacc 프로그램을 확장하여 교재 5장에서 설명한대로 신택스 분석기 프로그램을 완성한다.

## (6) yacc 프로그램에서 사용하는 모든 함수 프로그램을 작성한다

## (7) 충분히 많은 종류의 C언어 프로그램이 제대로 파싱되는지 검토하고 실험을 하도록 합니다.

## (8) 과제 보고서는 한 개의 한글이나 워드화일로 작성하고 모든 신택스 분석기 프로그램은 압축화일로 첨부하여 11월 7일(토) 까지 제출하도록 합니다.

## 추가사항

모든 프로그램은 유닉스 환경에서 개발하여야 합니다.

32비트 기계의 경우는 본 강의와 교재에서 설명한대로 하면 잘 될 것으로 생각되지만 64 비트 기계의 경우는 문제가 발생할 수 있습니다. 64비트 기계에서는 정수는 보통 32비트에 저장하고 포인터는 보통 64비트에 저장하므로 정수와 포인터 값을 공통으로 저장하는 yylval이나 트리의 포인터값을 32비트의 정수처럼 취급하면 문제가 발생할 수 있습니다. 그래서 yylval이나 파싱에 사용되는 스택을 64비트로 정의 하여야 하는데 이를 위해서 다음의 두줄을 lex 프로그램 정의부와 yacc 프로그램 정의부에 C 프로그램 형식으로 추가하여야 합니다.

```lex
%{
#define YYSTYPE_IS_DECLARED 1
typedef long YYSTYPE
%}
```
